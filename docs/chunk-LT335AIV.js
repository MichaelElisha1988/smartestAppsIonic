import{a as E,b as L,c as S,d as k,e as V,f as q,g as Cr}from"./chunk-ULR6JQCO.js";import{a as Pr}from"./chunk-QATANLOJ.js";import{Ha as Ur,i as Dr,k as At,ra as Mr,s as J}from"./chunk-EMEYSWGD.js";import{a as v,b as F,e as p,f as ja,h as m}from"./chunk-YDOXD4O3.js";var Y=p((Vs,Ht)=>{"use strict";typeof Object.create=="function"?Ht.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ht.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}});var Or=p(St=>{"use strict";St.byteLength=Ga;St.toByteArray=Wa;St.fromByteArray=za;var O=[],U=[],Ja=typeof Uint8Array<"u"?Uint8Array:Array,Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(X=0,kr=Wt.length;X<kr;++X)O[X]=Wt[X],U[Wt.charCodeAt(X)]=X;var X,kr;U[45]=62;U[95]=63;function qr(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function Ga(e){var t=qr(e),r=t[0],i=t[1];return(r+i)*3/4-i}function Ha(e,t,r){return(t+r)*3/4-r}function Wa(e){var t,r=qr(e),i=r[0],a=r[1],n=new Ja(Ha(e,i,a)),o=0,s=a>0?i-4:i,f;for(f=0;f<s;f+=4)t=U[e.charCodeAt(f)]<<18|U[e.charCodeAt(f+1)]<<12|U[e.charCodeAt(f+2)]<<6|U[e.charCodeAt(f+3)],n[o++]=t>>16&255,n[o++]=t>>8&255,n[o++]=t&255;return a===2&&(t=U[e.charCodeAt(f)]<<2|U[e.charCodeAt(f+1)]>>4,n[o++]=t&255),a===1&&(t=U[e.charCodeAt(f)]<<10|U[e.charCodeAt(f+1)]<<4|U[e.charCodeAt(f+2)]>>2,n[o++]=t>>8&255,n[o++]=t&255),n}function Ka(e){return O[e>>18&63]+O[e>>12&63]+O[e>>6&63]+O[e&63]}function Va(e,t,r){for(var i,a=[],n=t;n<r;n+=3)i=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(e[n+2]&255),a.push(Ka(i));return a.join("")}function za(e){for(var t,r=e.length,i=r%3,a=[],n=16383,o=0,s=r-i;o<s;o+=n)a.push(Va(e,o,o+n>s?s:o+n));return i===1?(t=e[r-1],a.push(O[t>>2]+O[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],a.push(O[t>>10]+O[t>>4&63]+O[t<<2&63]+"=")),a.join("")}});var $r=p(Kt=>{"use strict";Kt.read=function(e,t,r,i,a){var n,o,s=a*8-i-1,f=(1<<s)-1,c=f>>1,u=-7,l=r?a-1:0,d=r?-1:1,y=e[t+l];for(l+=d,n=y&(1<<-u)-1,y>>=-u,u+=s;u>0;n=n*256+e[t+l],l+=d,u-=8);for(o=n&(1<<-u)-1,n>>=-u,u+=i;u>0;o=o*256+e[t+l],l+=d,u-=8);if(n===0)n=1-c;else{if(n===f)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,i),n=n-c}return(y?-1:1)*o*Math.pow(2,n-i)};Kt.write=function(e,t,r,i,a,n){var o,s,f,c=n*8-a-1,u=(1<<c)-1,l=u>>1,d=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:n-1,g=i?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-o))<1&&(o--,f*=2),o+l>=1?t+=d/f:t+=d*Math.pow(2,1-l),t*f>=2&&(o++,f/=2),o+l>=u?(s=0,o=u):o+l>=1?(s=(t*f-1)*Math.pow(2,a),o=o+l):(s=t*Math.pow(2,l-1)*Math.pow(2,a),o=0));a>=8;e[r+y]=s&255,y+=g,s/=256,a-=8);for(o=o<<a|s,c+=a;c>0;e[r+y]=o&255,y+=g,o/=256,c-=8);e[r+y-g]|=w*128}});var Qr=p(nt=>{"use strict";var Vt=Or(),at=$r(),Nr=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;nt.Buffer=h;nt.SlowBuffer=rn;nt.INSPECT_MAX_BYTES=50;var _t=2147483647;nt.kMaxLength=_t;h.TYPED_ARRAY_SUPPORT=Ya();!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ya(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}});Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function G(e){if(e>_t)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Zt(e)}return Gr(e,t,r)}h.poolSize=8192;function Gr(e,t,r){if(typeof e=="string")return Za(e,t);if(ArrayBuffer.isView(e))return Qa(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return Yt(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(i!=null&&i!==e)return h.from(i,t,r);var a=tn(e);if(a)return a;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return h.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}h.from=function(e,t,r){return Gr(e,t,r)};Object.setPrototypeOf(h.prototype,Uint8Array.prototype);Object.setPrototypeOf(h,Uint8Array);function Hr(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Xa(e,t,r){return Hr(e),e<=0?G(e):t!==void 0?typeof r=="string"?G(e).fill(t,r):G(e).fill(t):G(e)}h.alloc=function(e,t,r){return Xa(e,t,r)};function Zt(e){return Hr(e),G(e<0?0:Qt(e)|0)}h.allocUnsafe=function(e){return Zt(e)};h.allocUnsafeSlow=function(e){return Zt(e)};function Za(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=Wr(e,t)|0,i=G(r),a=i.write(e,t);return a!==r&&(i=i.slice(0,a)),i}function zt(e){for(var t=e.length<0?0:Qt(e.length)|0,r=G(t),i=0;i<t;i+=1)r[i]=e[i]&255;return r}function Qa(e){if($(e,Uint8Array)){var t=new Uint8Array(e);return Yt(t.buffer,t.byteOffset,t.byteLength)}return zt(e)}function Yt(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return t===void 0&&r===void 0?i=new Uint8Array(e):r===void 0?i=new Uint8Array(e,t):i=new Uint8Array(e,t,r),Object.setPrototypeOf(i,h.prototype),i}function tn(e){if(h.isBuffer(e)){var t=Qt(e.length)|0,r=G(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||tr(e.length)?G(0):zt(e);if(e.type==="Buffer"&&Array.isArray(e.data))return zt(e.data)}function Qt(e){if(e>=_t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+_t.toString(16)+" bytes");return e|0}function rn(e){return+e!=e&&(e=0),h.alloc(+e)}h.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==h.prototype};h.compare=function(t,r){if($(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),$(r,Uint8Array)&&(r=h.from(r,r.offset,r.byteLength)),!h.isBuffer(t)||!h.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;for(var i=t.length,a=r.length,n=0,o=Math.min(i,a);n<o;++n)if(t[n]!==r[n]){i=t[n],a=r[n];break}return i<a?-1:a<i?1:0};h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};h.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return h.alloc(0);var i;if(r===void 0)for(r=0,i=0;i<t.length;++i)r+=t[i].length;var a=h.allocUnsafe(r),n=0;for(i=0;i<t.length;++i){var o=t[i];if($(o,Uint8Array))n+o.length>a.length?h.from(o).copy(a,n):Uint8Array.prototype.set.call(a,o,n);else if(h.isBuffer(o))o.copy(a,n);else throw new TypeError('"list" argument must be an Array of Buffers');n+=o.length}return a};function Wr(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Xt(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Zr(e).length;default:if(a)return i?-1:Xt(e).length;t=(""+t).toLowerCase(),a=!0}}h.byteLength=Wr;function en(e,t,r){var i=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return pn(this,t,r);case"utf8":case"utf-8":return Vr(this,t,r);case"ascii":return ln(this,t,r);case"latin1":case"binary":return cn(this,t,r);case"base64":return hn(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dn(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}h.prototype._isBuffer=!0;function Z(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}h.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)Z(this,r,r+1);return this};h.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)Z(this,r,r+3),Z(this,r+1,r+2);return this};h.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)Z(this,r,r+7),Z(this,r+1,r+6),Z(this,r+2,r+5),Z(this,r+3,r+4);return this};h.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?Vr(this,0,t):en.apply(this,arguments)};h.prototype.toLocaleString=h.prototype.toString;h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:h.compare(this,t)===0};h.prototype.inspect=function(){var t="",r=nt.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};Nr&&(h.prototype[Nr]=h.prototype.inspect);h.prototype.compare=function(t,r,i,a,n){if($(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),i===void 0&&(i=t?t.length:0),a===void 0&&(a=0),n===void 0&&(n=this.length),r<0||i>t.length||a<0||n>this.length)throw new RangeError("out of range index");if(a>=n&&r>=i)return 0;if(a>=n)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,a>>>=0,n>>>=0,this===t)return 0;for(var o=n-a,s=i-r,f=Math.min(o,s),c=this.slice(a,n),u=t.slice(r,i),l=0;l<f;++l)if(c[l]!==u[l]){o=c[l],s=u[l];break}return o<s?-1:s<o?1:0};function Kr(e,t,r,i,a){if(e.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,tr(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0)if(a)r=0;else return-1;if(typeof t=="string"&&(t=h.from(t,i)),h.isBuffer(t))return t.length===0?-1:jr(e,t,r,i,a);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):jr(e,[t],r,i,a);throw new TypeError("val must be string, number or Buffer")}function jr(e,t,r,i,a){var n=1,o=e.length,s=t.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(e.length<2||t.length<2)return-1;n=2,o/=2,s/=2,r/=2}function f(y,g){return n===1?y[g]:y.readUInt16BE(g*n)}var c;if(a){var u=-1;for(c=r;c<o;c++)if(f(e,c)===f(t,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===s)return u*n}else u!==-1&&(c-=c-u),u=-1}else for(r+s>o&&(r=o-s),c=r;c>=0;c--){for(var l=!0,d=0;d<s;d++)if(f(e,c+d)!==f(t,d)){l=!1;break}if(l)return c}return-1}h.prototype.includes=function(t,r,i){return this.indexOf(t,r,i)!==-1};h.prototype.indexOf=function(t,r,i){return Kr(this,t,r,i,!0)};h.prototype.lastIndexOf=function(t,r,i){return Kr(this,t,r,i,!1)};function an(e,t,r,i){r=Number(r)||0;var a=e.length-r;i?(i=Number(i),i>a&&(i=a)):i=a;var n=t.length;i>n/2&&(i=n/2);for(var o=0;o<i;++o){var s=parseInt(t.substr(o*2,2),16);if(tr(s))return o;e[r+o]=s}return o}function nn(e,t,r,i){return It(Xt(t,e.length-r),e,r,i)}function on(e,t,r,i){return It(xn(t),e,r,i)}function sn(e,t,r,i){return It(Zr(t),e,r,i)}function fn(e,t,r,i){return It(mn(t,e.length-r),e,r,i)}h.prototype.write=function(t,r,i,a){if(r===void 0)a="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")a=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,a===void 0&&(a="utf8")):(a=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var n=this.length-r;if((i===void 0||i>n)&&(i=n),t.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var o=!1;;)switch(a){case"hex":return an(this,t,r,i);case"utf8":case"utf-8":return nn(this,t,r,i);case"ascii":case"latin1":case"binary":return on(this,t,r,i);case"base64":return sn(this,t,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fn(this,t,r,i);default:if(o)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),o=!0}};h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function hn(e,t,r){return t===0&&r===e.length?Vt.fromByteArray(e):Vt.fromByteArray(e.slice(t,r))}function Vr(e,t,r){r=Math.min(e.length,r);for(var i=[],a=t;a<r;){var n=e[a],o=null,s=n>239?4:n>223?3:n>191?2:1;if(a+s<=r){var f,c,u,l;switch(s){case 1:n<128&&(o=n);break;case 2:f=e[a+1],(f&192)===128&&(l=(n&31)<<6|f&63,l>127&&(o=l));break;case 3:f=e[a+1],c=e[a+2],(f&192)===128&&(c&192)===128&&(l=(n&15)<<12|(f&63)<<6|c&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:f=e[a+1],c=e[a+2],u=e[a+3],(f&192)===128&&(c&192)===128&&(u&192)===128&&(l=(n&15)<<18|(f&63)<<12|(c&63)<<6|u&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),a+=s}return un(i)}var Jr=4096;function un(e){var t=e.length;if(t<=Jr)return String.fromCharCode.apply(String,e);for(var r="",i=0;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=Jr));return r}function ln(e,t,r){var i="";r=Math.min(e.length,r);for(var a=t;a<r;++a)i+=String.fromCharCode(e[a]&127);return i}function cn(e,t,r){var i="";r=Math.min(e.length,r);for(var a=t;a<r;++a)i+=String.fromCharCode(e[a]);return i}function pn(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var a="",n=t;n<r;++n)a+=vn[e[n]];return a}function dn(e,t,r){for(var i=e.slice(t,r),a="",n=0;n<i.length-1;n+=2)a+=String.fromCharCode(i[n]+i[n+1]*256);return a}h.prototype.slice=function(t,r){var i=this.length;t=~~t,r=r===void 0?i:~~r,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<t&&(r=t);var a=this.subarray(t,r);return Object.setPrototypeOf(a,h.prototype),a};function _(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(t,r,i){t=t>>>0,r=r>>>0,i||_(t,r,this.length);for(var a=this[t],n=1,o=0;++o<r&&(n*=256);)a+=this[t+o]*n;return a};h.prototype.readUintBE=h.prototype.readUIntBE=function(t,r,i){t=t>>>0,r=r>>>0,i||_(t,r,this.length);for(var a=this[t+--r],n=1;r>0&&(n*=256);)a+=this[t+--r]*n;return a};h.prototype.readUint8=h.prototype.readUInt8=function(t,r){return t=t>>>0,r||_(t,1,this.length),this[t]};h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||_(t,2,this.length),this[t]|this[t+1]<<8};h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||_(t,2,this.length),this[t]<<8|this[t+1]};h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||_(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||_(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};h.prototype.readIntLE=function(t,r,i){t=t>>>0,r=r>>>0,i||_(t,r,this.length);for(var a=this[t],n=1,o=0;++o<r&&(n*=256);)a+=this[t+o]*n;return n*=128,a>=n&&(a-=Math.pow(2,8*r)),a};h.prototype.readIntBE=function(t,r,i){t=t>>>0,r=r>>>0,i||_(t,r,this.length);for(var a=r,n=1,o=this[t+--a];a>0&&(n*=256);)o+=this[t+--a]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*r)),o};h.prototype.readInt8=function(t,r){return t=t>>>0,r||_(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};h.prototype.readInt16LE=function(t,r){t=t>>>0,r||_(t,2,this.length);var i=this[t]|this[t+1]<<8;return i&32768?i|4294901760:i};h.prototype.readInt16BE=function(t,r){t=t>>>0,r||_(t,2,this.length);var i=this[t+1]|this[t]<<8;return i&32768?i|4294901760:i};h.prototype.readInt32LE=function(t,r){return t=t>>>0,r||_(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};h.prototype.readInt32BE=function(t,r){return t=t>>>0,r||_(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};h.prototype.readFloatLE=function(t,r){return t=t>>>0,r||_(t,4,this.length),at.read(this,t,!0,23,4)};h.prototype.readFloatBE=function(t,r){return t=t>>>0,r||_(t,4,this.length),at.read(this,t,!1,23,4)};h.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||_(t,8,this.length),at.read(this,t,!0,52,8)};h.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||_(t,8,this.length),at.read(this,t,!1,52,8)};function T(e,t,r,i,a,n){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<n)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,r,i,a){if(t=+t,r=r>>>0,i=i>>>0,!a){var n=Math.pow(2,8*i)-1;T(this,t,r,i,n,0)}var o=1,s=0;for(this[r]=t&255;++s<i&&(o*=256);)this[r+s]=t/o&255;return r+i};h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,r,i,a){if(t=+t,r=r>>>0,i=i>>>0,!a){var n=Math.pow(2,8*i)-1;T(this,t,r,i,n,0)}var o=i-1,s=1;for(this[r+o]=t&255;--o>=0&&(s*=256);)this[r+o]=t/s&255;return r+i};h.prototype.writeUint8=h.prototype.writeUInt8=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,1,255,0),this[r]=t&255,r+1};h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};h.prototype.writeIntLE=function(t,r,i,a){if(t=+t,r=r>>>0,!a){var n=Math.pow(2,8*i-1);T(this,t,r,i,n-1,-n)}var o=0,s=1,f=0;for(this[r]=t&255;++o<i&&(s*=256);)t<0&&f===0&&this[r+o-1]!==0&&(f=1),this[r+o]=(t/s>>0)-f&255;return r+i};h.prototype.writeIntBE=function(t,r,i,a){if(t=+t,r=r>>>0,!a){var n=Math.pow(2,8*i-1);T(this,t,r,i,n-1,-n)}var o=i-1,s=1,f=0;for(this[r+o]=t&255;--o>=0&&(s*=256);)t<0&&f===0&&this[r+o+1]!==0&&(f=1),this[r+o]=(t/s>>0)-f&255;return r+i};h.prototype.writeInt8=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};h.prototype.writeInt16LE=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};h.prototype.writeInt16BE=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};h.prototype.writeInt32LE=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};h.prototype.writeInt32BE=function(t,r,i){return t=+t,r=r>>>0,i||T(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function zr(e,t,r,i,a,n){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Yr(e,t,r,i,a){return t=+t,r=r>>>0,a||zr(e,t,r,4,34028234663852886e22,-34028234663852886e22),at.write(e,t,r,i,23,4),r+4}h.prototype.writeFloatLE=function(t,r,i){return Yr(this,t,r,!0,i)};h.prototype.writeFloatBE=function(t,r,i){return Yr(this,t,r,!1,i)};function Xr(e,t,r,i,a){return t=+t,r=r>>>0,a||zr(e,t,r,8,17976931348623157e292,-17976931348623157e292),at.write(e,t,r,i,52,8),r+8}h.prototype.writeDoubleLE=function(t,r,i){return Xr(this,t,r,!0,i)};h.prototype.writeDoubleBE=function(t,r,i){return Xr(this,t,r,!1,i)};h.prototype.copy=function(t,r,i,a){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),!a&&a!==0&&(a=this.length),r>=t.length&&(r=t.length),r||(r=0),a>0&&a<i&&(a=i),a===i||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-r<a-i&&(a=t.length-r+i);var n=a-i;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,a):Uint8Array.prototype.set.call(t,this.subarray(i,a),r),n};h.prototype.fill=function(t,r,i,a){if(typeof t=="string"){if(typeof r=="string"?(a=r,r=0,i=this.length):typeof i=="string"&&(a=i,i=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!h.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(t.length===1){var n=t.charCodeAt(0);(a==="utf8"&&n<128||a==="latin1")&&(t=n)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,t||(t=0);var o;if(typeof t=="number")for(o=r;o<i;++o)this[o]=t;else{var s=h.isBuffer(t)?t:h.from(t,a),f=s.length;if(f===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<i-r;++o)this[o+r]=s[o%f]}return this};var yn=/[^+/0-9A-Za-z-_]/g;function gn(e){if(e=e.split("=")[0],e=e.trim().replace(yn,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function Xt(e,t){t=t||1/0;for(var r,i=e.length,a=null,n=[],o=0;o<i;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&n.push(239,191,189);continue}else if(o+1===i){(t-=3)>-1&&n.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&n.push(239,191,189),a=r;continue}r=(a-55296<<10|r-56320)+65536}else a&&(t-=3)>-1&&n.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;n.push(r)}else if(r<2048){if((t-=2)<0)break;n.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;n.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;n.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return n}function xn(e){for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function mn(e,t){for(var r,i,a,n=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),i=r>>8,a=r%256,n.push(a),n.push(i);return n}function Zr(e){return Vt.toByteArray(gn(e))}function It(e,t,r,i){for(var a=0;a<i&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}function $(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function tr(e){return e!==e}var vn=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var i=r*16,a=0;a<16;++a)t[i+a]=e[r]+e[a];return t}()});var H=p((rr,re)=>{"use strict";var Bt=Qr(),N=Bt.Buffer;function te(e,t){for(var r in e)t[r]=e[r]}N.from&&N.alloc&&N.allocUnsafe&&N.allocUnsafeSlow?re.exports=Bt:(te(Bt,rr),rr.Buffer=Q);function Q(e,t,r){return N(e,t,r)}Q.prototype=Object.create(N.prototype);te(N,Q);Q.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return N(e,t,r)};Q.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=N(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};Q.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return N(e)};Q.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Bt.SlowBuffer(e)}});var ie=p((Zs,ee)=>{"use strict";var wn={}.toString;ee.exports=Array.isArray||function(e){return wn.call(e)=="[object Array]"}});var ot=p((Qs,ae)=>{"use strict";ae.exports=TypeError});var er=p((tf,ne)=>{"use strict";ne.exports=Object});var se=p((rf,oe)=>{"use strict";oe.exports=Error});var he=p((ef,fe)=>{"use strict";fe.exports=EvalError});var le=p((af,ue)=>{"use strict";ue.exports=RangeError});var pe=p((nf,ce)=>{"use strict";ce.exports=ReferenceError});var ir=p((of,de)=>{"use strict";de.exports=SyntaxError});var ge=p((sf,ye)=>{"use strict";ye.exports=URIError});var me=p((ff,xe)=>{"use strict";xe.exports=Math.abs});var we=p((hf,ve)=>{"use strict";ve.exports=Math.floor});var Ee=p((uf,be)=>{"use strict";be.exports=Math.max});var Se=p((lf,Ae)=>{"use strict";Ae.exports=Math.min});var Ie=p((cf,_e)=>{"use strict";_e.exports=Math.pow});var Fe=p((pf,Be)=>{"use strict";Be.exports=Math.round});var Re=p((df,Le)=>{"use strict";Le.exports=Number.isNaN||function(t){return t!==t}});var De=p((yf,Te)=>{"use strict";var bn=Re();Te.exports=function(t){return bn(t)||t===0?t:t<0?-1:1}});var Ue=p((gf,Me)=>{"use strict";Me.exports=Object.getOwnPropertyDescriptor});var st=p((xf,Pe)=>{"use strict";var Ft=Ue();if(Ft)try{Ft([],"length")}catch{Ft=null}Pe.exports=Ft});var yt=p((mf,Ce)=>{"use strict";var Lt=Object.defineProperty||!1;if(Lt)try{Lt({},"a",{value:1})}catch{Lt=!1}Ce.exports=Lt});var ar=p((vf,ke)=>{"use strict";ke.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var a=42;t[r]=a;for(var n in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==a||s.enumerable!==!0)return!1}return!0}});var $e=p((wf,Oe)=>{"use strict";var qe=typeof Symbol<"u"&&Symbol,En=ar();Oe.exports=function(){return typeof qe!="function"||typeof Symbol!="function"||typeof qe("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:En()}});var nr=p((bf,Ne)=>{"use strict";Ne.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var or=p((Ef,je)=>{"use strict";var An=er();je.exports=An.getPrototypeOf||null});var He=p((Af,Ge)=>{"use strict";var Sn="Function.prototype.bind called on incompatible ",_n=Object.prototype.toString,In=Math.max,Bn="[object Function]",Je=function(t,r){for(var i=[],a=0;a<t.length;a+=1)i[a]=t[a];for(var n=0;n<r.length;n+=1)i[n+t.length]=r[n];return i},Fn=function(t,r){for(var i=[],a=r||0,n=0;a<t.length;a+=1,n+=1)i[n]=t[a];return i},Ln=function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=t);return r};Ge.exports=function(t){var r=this;if(typeof r!="function"||_n.apply(r)!==Bn)throw new TypeError(Sn+r);for(var i=Fn(arguments,1),a,n=function(){if(this instanceof a){var u=r.apply(this,Je(i,arguments));return Object(u)===u?u:this}return r.apply(t,Je(i,arguments))},o=In(0,r.length-i.length),s=[],f=0;f<o;f++)s[f]="$"+f;if(a=Function("binder","return function ("+Ln(s,",")+"){ return binder.apply(this,arguments); }")(n),r.prototype){var c=function(){};c.prototype=r.prototype,a.prototype=new c,c.prototype=null}return a}});var ft=p((Sf,We)=>{"use strict";var Rn=He();We.exports=Function.prototype.bind||Rn});var Rt=p((_f,Ke)=>{"use strict";Ke.exports=Function.prototype.call});var Tt=p((If,Ve)=>{"use strict";Ve.exports=Function.prototype.apply});var Ye=p((Bf,ze)=>{"use strict";ze.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var sr=p((Ff,Xe)=>{"use strict";var Tn=ft(),Dn=Tt(),Mn=Rt(),Un=Ye();Xe.exports=Un||Tn.call(Mn,Dn)});var Dt=p((Lf,Ze)=>{"use strict";var Pn=ft(),Cn=ot(),kn=Rt(),qn=sr();Ze.exports=function(t){if(t.length<1||typeof t[0]!="function")throw new Cn("a function is required");return qn(Pn,kn,t)}});var ai=p((Rf,ii)=>{"use strict";var On=Dt(),Qe=st(),ri;try{ri=[].__proto__===Array.prototype}catch(e){if(!e||typeof e!="object"||!("code"in e)||e.code!=="ERR_PROTO_ACCESS")throw e}var fr=!!ri&&Qe&&Qe(Object.prototype,"__proto__"),ei=Object,ti=ei.getPrototypeOf;ii.exports=fr&&typeof fr.get=="function"?On([fr.get]):typeof ti=="function"?function(t){return ti(t==null?t:ei(t))}:!1});var hr=p((Tf,fi)=>{"use strict";var ni=nr(),oi=or(),si=ai();fi.exports=ni?function(t){return ni(t)}:oi?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return oi(t)}:si?function(t){return si(t)}:null});var ui=p((Df,hi)=>{"use strict";var $n=Function.prototype.call,Nn=Object.prototype.hasOwnProperty,jn=ft();hi.exports=jn.call($n,Nn)});var cr=p((Mf,gi)=>{"use strict";var x,Jn=er(),Gn=se(),Hn=he(),Wn=le(),Kn=pe(),ct=ir(),lt=ot(),Vn=ge(),zn=me(),Yn=we(),Xn=Ee(),Zn=Se(),Qn=Ie(),to=Fe(),ro=De(),di=Function,ur=function(e){try{return di('"use strict"; return ('+e+").constructor;")()}catch{}},gt=st(),eo=yt(),lr=function(){throw new lt},io=gt?function(){try{return arguments.callee,lr}catch{try{return gt(arguments,"callee").get}catch{return lr}}}():lr,ht=$e()(),I=hr(),ao=or(),no=nr(),yi=Tt(),xt=Rt(),ut={},oo=typeof Uint8Array>"u"||!I?x:I(Uint8Array),tt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?x:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?x:ArrayBuffer,"%ArrayIteratorPrototype%":ht&&I?I([][Symbol.iterator]()):x,"%AsyncFromSyncIteratorPrototype%":x,"%AsyncFunction%":ut,"%AsyncGenerator%":ut,"%AsyncGeneratorFunction%":ut,"%AsyncIteratorPrototype%":ut,"%Atomics%":typeof Atomics>"u"?x:Atomics,"%BigInt%":typeof BigInt>"u"?x:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?x:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?x:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?x:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Gn,"%eval%":eval,"%EvalError%":Hn,"%Float16Array%":typeof Float16Array>"u"?x:Float16Array,"%Float32Array%":typeof Float32Array>"u"?x:Float32Array,"%Float64Array%":typeof Float64Array>"u"?x:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?x:FinalizationRegistry,"%Function%":di,"%GeneratorFunction%":ut,"%Int8Array%":typeof Int8Array>"u"?x:Int8Array,"%Int16Array%":typeof Int16Array>"u"?x:Int16Array,"%Int32Array%":typeof Int32Array>"u"?x:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ht&&I?I(I([][Symbol.iterator]())):x,"%JSON%":typeof JSON=="object"?JSON:x,"%Map%":typeof Map>"u"?x:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ht||!I?x:I(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Jn,"%Object.getOwnPropertyDescriptor%":gt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?x:Promise,"%Proxy%":typeof Proxy>"u"?x:Proxy,"%RangeError%":Wn,"%ReferenceError%":Kn,"%Reflect%":typeof Reflect>"u"?x:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?x:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ht||!I?x:I(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?x:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ht&&I?I(""[Symbol.iterator]()):x,"%Symbol%":ht?Symbol:x,"%SyntaxError%":ct,"%ThrowTypeError%":io,"%TypedArray%":oo,"%TypeError%":lt,"%Uint8Array%":typeof Uint8Array>"u"?x:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?x:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?x:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?x:Uint32Array,"%URIError%":Vn,"%WeakMap%":typeof WeakMap>"u"?x:WeakMap,"%WeakRef%":typeof WeakRef>"u"?x:WeakRef,"%WeakSet%":typeof WeakSet>"u"?x:WeakSet,"%Function.prototype.call%":xt,"%Function.prototype.apply%":yi,"%Object.defineProperty%":eo,"%Object.getPrototypeOf%":ao,"%Math.abs%":zn,"%Math.floor%":Yn,"%Math.max%":Xn,"%Math.min%":Zn,"%Math.pow%":Qn,"%Math.round%":to,"%Math.sign%":ro,"%Reflect.getPrototypeOf%":no};if(I)try{null.error}catch(e){li=I(I(e)),tt["%Error.prototype%"]=li}var li,so=function e(t){var r;if(t==="%AsyncFunction%")r=ur("async function () {}");else if(t==="%GeneratorFunction%")r=ur("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=ur("async function* () {}");else if(t==="%AsyncGenerator%"){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(t==="%AsyncIteratorPrototype%"){var a=e("%AsyncGenerator%");a&&I&&(r=I(a.prototype))}return tt[t]=r,r},ci={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mt=ft(),Mt=ui(),fo=mt.call(xt,Array.prototype.concat),ho=mt.call(yi,Array.prototype.splice),pi=mt.call(xt,String.prototype.replace),Ut=mt.call(xt,String.prototype.slice),uo=mt.call(xt,RegExp.prototype.exec),lo=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,co=/\\(\\)?/g,po=function(t){var r=Ut(t,0,1),i=Ut(t,-1);if(r==="%"&&i!=="%")throw new ct("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new ct("invalid intrinsic syntax, expected opening `%`");var a=[];return pi(t,lo,function(n,o,s,f){a[a.length]=s?pi(f,co,"$1"):o||n}),a},yo=function(t,r){var i=t,a;if(Mt(ci,i)&&(a=ci[i],i="%"+a[0]+"%"),Mt(tt,i)){var n=tt[i];if(n===ut&&(n=so(i)),typeof n>"u"&&!r)throw new lt("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:a,name:i,value:n}}throw new ct("intrinsic "+t+" does not exist!")};gi.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new lt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new lt('"allowMissing" argument must be a boolean');if(uo(/^%?[^%]*%?$/,t)===null)throw new ct("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=po(t),a=i.length>0?i[0]:"",n=yo("%"+a+"%",r),o=n.name,s=n.value,f=!1,c=n.alias;c&&(a=c[0],ho(i,fo([0,1],c)));for(var u=1,l=!0;u<i.length;u+=1){var d=i[u],y=Ut(d,0,1),g=Ut(d,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new ct("property names with quotes must have matching quotes");if((d==="constructor"||!l)&&(f=!0),a+="."+d,o="%"+a+"%",Mt(tt,o))s=tt[o];else if(s!=null){if(!(d in s)){if(!r)throw new lt("base intrinsic for "+t+" exists, but the property is not available.");return}if(gt&&u+1>=i.length){var w=gt(s,d);l=!!w,l&&"get"in w&&!("originalValue"in w.get)?s=w.get:s=s[d]}else l=Mt(s,d),s=s[d];l&&!f&&(tt[o]=s)}}return s}});var pr=p((Uf,vi)=>{"use strict";var xi=cr(),mi=Dt(),go=mi([xi("%String.prototype.indexOf%")]);vi.exports=function(t,r){var i=xi(t,!!r);return typeof i=="function"&&go(t,".prototype.")>-1?mi([i]):i}});var Ai=p((Pf,Ei)=>{"use strict";var bi=Function.prototype.toString,pt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,yr,Pt;if(typeof pt=="function"&&typeof Object.defineProperty=="function")try{yr=Object.defineProperty({},"length",{get:function(){throw Pt}}),Pt={},pt(function(){throw 42},null,yr)}catch(e){e!==Pt&&(pt=null)}else pt=null;var xo=/^\s*class\b/,gr=function(t){try{var r=bi.call(t);return xo.test(r)}catch{return!1}},dr=function(t){try{return gr(t)?!1:(bi.call(t),!0)}catch{return!1}},Ct=Object.prototype.toString,mo="[object Object]",vo="[object Function]",wo="[object GeneratorFunction]",bo="[object HTMLAllCollection]",Eo="[object HTML document.all class]",Ao="[object HTMLCollection]",So=typeof Symbol=="function"&&!!Symbol.toStringTag,_o=!(0 in[,]),xr=function(){return!1};typeof document=="object"&&(wi=document.all,Ct.call(wi)===Ct.call(document.all)&&(xr=function(t){if((_o||!t)&&(typeof t>"u"||typeof t=="object"))try{var r=Ct.call(t);return(r===bo||r===Eo||r===Ao||r===mo)&&t("")==null}catch{}return!1}));var wi;Ei.exports=pt?function(t){if(xr(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{pt(t,null,yr)}catch(r){if(r!==Pt)return!1}return!gr(t)&&dr(t)}:function(t){if(xr(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(So)return dr(t);if(gr(t))return!1;var r=Ct.call(t);return r!==vo&&r!==wo&&!/^\[object HTML/.test(r)?!1:dr(t)}});var Ii=p((Cf,_i)=>{"use strict";var Io=Ai(),Bo=Object.prototype.toString,Si=Object.prototype.hasOwnProperty,Fo=function(t,r,i){for(var a=0,n=t.length;a<n;a++)Si.call(t,a)&&(i==null?r(t[a],a,t):r.call(i,t[a],a,t))},Lo=function(t,r,i){for(var a=0,n=t.length;a<n;a++)i==null?r(t.charAt(a),a,t):r.call(i,t.charAt(a),a,t)},Ro=function(t,r,i){for(var a in t)Si.call(t,a)&&(i==null?r(t[a],a,t):r.call(i,t[a],a,t))};function To(e){return Bo.call(e)==="[object Array]"}_i.exports=function(t,r,i){if(!Io(r))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=i),To(t)?Fo(t,r,a):typeof t=="string"?Lo(t,r,a):Ro(t,r,a)}});var Fi=p((kf,Bi)=>{"use strict";Bi.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var Ri=p((qf,Li)=>{"use strict";var mr=Fi(),Do=typeof globalThis>"u"?global:globalThis;Li.exports=function(){for(var t=[],r=0;r<mr.length;r++)typeof Do[mr[r]]=="function"&&(t[t.length]=mr[r]);return t}});var Ui=p((Of,Mi)=>{"use strict";var Ti=yt(),Mo=ir(),dt=ot(),Di=st();Mi.exports=function(t,r,i){if(!t||typeof t!="object"&&typeof t!="function")throw new dt("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new dt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new dt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new dt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new dt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new dt("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,f=!!Di&&Di(t,r);if(Ti)Ti(t,r,{configurable:o===null&&f?f.configurable:!o,enumerable:a===null&&f?f.enumerable:!a,value:i,writable:n===null&&f?f.writable:!n});else if(s||!a&&!n&&!o)t[r]=i;else throw new Mo("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var ki=p(($f,Ci)=>{"use strict";var vr=yt(),Pi=function(){return!!vr};Pi.hasArrayLengthDefineBug=function(){if(!vr)return null;try{return vr([],"length",{value:1}).length!==1}catch{return!0}};Ci.exports=Pi});var ji=p((Nf,Ni)=>{"use strict";var Uo=cr(),qi=Ui(),Po=ki()(),Oi=st(),$i=ot(),Co=Uo("%Math.floor%");Ni.exports=function(t,r){if(typeof t!="function")throw new $i("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Co(r)!==r)throw new $i("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],a=!0,n=!0;if("length"in t&&Oi){var o=Oi(t,"length");o&&!o.configurable&&(a=!1),o&&!o.writable&&(n=!1)}return(a||n||!i)&&(Po?qi(t,"length",r,!0,!0):qi(t,"length",r)),t}});var Gi=p((jf,Ji)=>{"use strict";var ko=ft(),qo=Tt(),Oo=sr();Ji.exports=function(){return Oo(ko,qo,arguments)}});var Ki=p((Jf,kt)=>{"use strict";var $o=ji(),Hi=yt(),No=Dt(),Wi=Gi();kt.exports=function(t){var r=No(arguments),i=t.length-(arguments.length-1);return $o(r,1+(i>0?i:0),!0)};Hi?Hi(kt.exports,"apply",{value:Wi}):kt.exports.apply=Wi});var zi=p((Gf,Vi)=>{"use strict";var jo=ar();Vi.exports=function(){return jo()&&!!Symbol.toStringTag}});var ta=p((Hf,Qi)=>{"use strict";var $t=Ii(),Jo=Ri(),Yi=Ki(),br=pr(),Ot=st(),qt=hr(),Go=br("Object.prototype.toString"),Zi=zi()(),Xi=typeof globalThis>"u"?global:globalThis,wr=Jo(),Er=br("String.prototype.slice"),Ho=br("Array.prototype.indexOf",!0)||function(t,r){for(var i=0;i<t.length;i+=1)if(t[i]===r)return i;return-1},Nt={__proto__:null};Zi&&Ot&&qt?$t(wr,function(e){var t=new Xi[e];if(Symbol.toStringTag in t&&qt){var r=qt(t),i=Ot(r,Symbol.toStringTag);if(!i&&r){var a=qt(r);i=Ot(a,Symbol.toStringTag)}Nt["$"+e]=Yi(i.get)}}):$t(wr,function(e){var t=new Xi[e],r=t.slice||t.set;r&&(Nt["$"+e]=Yi(r))});var Wo=function(t){var r=!1;return $t(Nt,function(i,a){if(!r)try{"$"+i(t)===a&&(r=Er(a,1))}catch{}}),r},Ko=function(t){var r=!1;return $t(Nt,function(i,a){if(!r)try{i(t),r=Er(a,1)}catch{}}),r};Qi.exports=function(t){if(!t||typeof t!="object")return!1;if(!Zi){var r=Er(Go(t),8,-1);return Ho(wr,r)>-1?r:r!=="Object"?!1:Ko(t)}return Ot?Wo(t):null}});var ea=p((Wf,ra)=>{"use strict";var Vo=ta();ra.exports=function(t){return!!Vo(t)}});var aa=p((Kf,ia)=>{"use strict";var zo=ot(),Yo=pr(),Xo=Yo("TypedArray.prototype.buffer",!0),Zo=ea();ia.exports=Xo||function(t){if(!Zo(t))throw new zo("Not a Typed Array");return t.buffer}});var sa=p((Vf,oa)=>{"use strict";var j=H().Buffer,Qo=ie(),ts=aa(),rs=ArrayBuffer.isView||function(t){try{return ts(t),!0}catch{return!1}},es=typeof Uint8Array<"u",na=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",is=na&&(j.prototype instanceof Uint8Array||j.TYPED_ARRAY_SUPPORT);oa.exports=function(t,r){if(t instanceof j)return t;if(typeof t=="string")return j.from(t,r);if(na&&rs(t)){if(t.byteLength===0)return j.alloc(0);if(is){var i=j.from(t.buffer,t.byteOffset,t.byteLength);if(i.byteLength===t.byteLength)return i}var a=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=j.from(a);if(n.length===t.byteLength)return n}if(es&&t instanceof Uint8Array)return j.from(t);var o=Qo(t);if(o)for(var s=0;s<t.length;s+=1){var f=t[s];if(typeof f!="number"||f<0||f>255||~~f!==f)throw new RangeError("Array items must be numbers in the range 0-255.")}if(o||j.isBuffer(t)&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return j.from(t);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}});var rt=p((zf,fa)=>{"use strict";var as=H().Buffer,ns=sa();function jt(e,t){this._block=as.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}jt.prototype.update=function(e,t){e=ns(e,t||"utf8");for(var r=this._block,i=this._blockSize,a=e.length,n=this._len,o=0;o<a;){for(var s=n%i,f=Math.min(a-o,i-s),c=0;c<f;c++)r[s+c]=e[o+c];n+=f,o+=f,n%i===0&&this._update(r)}return this._len+=a,this};jt.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(r&4294967295)>>>0,a=(r-i)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var n=this._hash();return e?n.toString(e):n};jt.prototype._update=function(){throw new Error("_update must be implemented by subclass")};fa.exports=jt});var la=p((Yf,ua)=>{"use strict";var os=Y(),ha=rt(),ss=H().Buffer,fs=[1518500249,1859775393,-1894007588,-899497514],hs=new Array(80);function vt(){this.init(),this._w=hs,ha.call(this,64,56)}os(vt,ha);vt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function us(e){return e<<5|e>>>27}function ls(e){return e<<30|e>>>2}function cs(e,t,r,i){return e===0?t&r|~t&i:e===2?t&r|t&i|r&i:t^r^i}vt.prototype._update=function(e){for(var t=this._w,r=this._a|0,i=this._b|0,a=this._c|0,n=this._d|0,o=this._e|0,s=0;s<16;++s)t[s]=e.readInt32BE(s*4);for(;s<80;++s)t[s]=t[s-3]^t[s-8]^t[s-14]^t[s-16];for(var f=0;f<80;++f){var c=~~(f/20),u=us(r)+cs(c,i,a,n)+o+t[f]+fs[c]|0;o=n,n=a,a=ls(i),i=r,r=u}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=n+this._d|0,this._e=o+this._e|0};vt.prototype._hash=function(){var e=ss.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};ua.exports=vt});var da=p((Xf,pa)=>{"use strict";var ps=Y(),ca=rt(),ds=H().Buffer,ys=[1518500249,1859775393,-1894007588,-899497514],gs=new Array(80);function wt(){this.init(),this._w=gs,ca.call(this,64,56)}ps(wt,ca);wt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function xs(e){return e<<1|e>>>31}function ms(e){return e<<5|e>>>27}function vs(e){return e<<30|e>>>2}function ws(e,t,r,i){return e===0?t&r|~t&i:e===2?t&r|t&i|r&i:t^r^i}wt.prototype._update=function(e){for(var t=this._w,r=this._a|0,i=this._b|0,a=this._c|0,n=this._d|0,o=this._e|0,s=0;s<16;++s)t[s]=e.readInt32BE(s*4);for(;s<80;++s)t[s]=xs(t[s-3]^t[s-8]^t[s-14]^t[s-16]);for(var f=0;f<80;++f){var c=~~(f/20),u=ms(r)+ws(c,i,a,n)+o+t[f]+ys[c]|0;o=n,n=a,a=vs(i),i=r,r=u}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=n+this._d|0,this._e=o+this._e|0};wt.prototype._hash=function(){var e=ds.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};pa.exports=wt});var Ar=p((Zf,ga)=>{"use strict";var bs=Y(),ya=rt(),Es=H().Buffer,As=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ss=new Array(64);function bt(){this.init(),this._w=Ss,ya.call(this,64,56)}bs(bt,ya);bt.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function _s(e,t,r){return r^e&(t^r)}function Is(e,t,r){return e&t|r&(e|t)}function Bs(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function Fs(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function Ls(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function Rs(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}bt.prototype._update=function(e){for(var t=this._w,r=this._a|0,i=this._b|0,a=this._c|0,n=this._d|0,o=this._e|0,s=this._f|0,f=this._g|0,c=this._h|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<64;++u)t[u]=Rs(t[u-2])+t[u-7]+Ls(t[u-15])+t[u-16]|0;for(var l=0;l<64;++l){var d=c+Fs(o)+_s(o,s,f)+As[l]+t[l]|0,y=Bs(r)+Is(r,i,a)|0;c=f,f=s,s=o,o=n+d|0,n=a,a=i,i=r,r=d+y|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=n+this._d|0,this._e=o+this._e|0,this._f=s+this._f|0,this._g=f+this._g|0,this._h=c+this._h|0};bt.prototype._hash=function(){var e=Es.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};ga.exports=bt});var ma=p((Qf,xa)=>{"use strict";var Ts=Y(),Ds=Ar(),Ms=rt(),Us=H().Buffer,Ps=new Array(64);function Jt(){this.init(),this._w=Ps,Ms.call(this,64,56)}Ts(Jt,Ds);Jt.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Jt.prototype._hash=function(){var e=Us.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};xa.exports=Jt});var Sr=p((th,_a)=>{"use strict";var Cs=Y(),Sa=rt(),ks=H().Buffer,va=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],qs=new Array(160);function Et(){this.init(),this._w=qs,Sa.call(this,128,112)}Cs(Et,Sa);Et.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function wa(e,t,r){return r^e&(t^r)}function ba(e,t,r){return e&t|r&(e|t)}function Ea(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Aa(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Os(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function $s(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Ns(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function js(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function B(e,t){return e>>>0<t>>>0?1:0}Et.prototype._update=function(e){for(var t=this._w,r=this._ah|0,i=this._bh|0,a=this._ch|0,n=this._dh|0,o=this._eh|0,s=this._fh|0,f=this._gh|0,c=this._hh|0,u=this._al|0,l=this._bl|0,d=this._cl|0,y=this._dl|0,g=this._el|0,w=this._fl|0,R=this._gl|0,P=this._hl|0,b=0;b<32;b+=2)t[b]=e.readInt32BE(b*4),t[b+1]=e.readInt32BE(b*4+4);for(;b<160;b+=2){var et=t[b-30],D=t[b-15*2+1],La=Os(et,D),_r=$s(D,et);et=t[b-2*2],D=t[b-2*2+1];var Ra=Ns(et,D),Ir=js(D,et),Ta=t[b-7*2],Da=t[b-7*2+1],Ma=t[b-16*2],Br=t[b-16*2+1],C=_r+Da|0,z=La+Ta+B(C,_r)|0;C=C+Ir|0,z=z+Ra+B(C,Ir)|0,C=C+Br|0,z=z+Ma+B(C,Br)|0,t[b]=z,t[b+1]=C}for(var it=0;it<160;it+=2){z=t[it],C=t[it+1];var Ua=ba(r,i,a),Pa=ba(u,l,d),Ca=Ea(r,u),Fr=Ea(u,r),ka=Aa(o,g),qa=Aa(g,o),Oa=va[it],Lr=va[it+1],$a=wa(o,s,f),Rr=wa(g,w,R),M=P+qa|0,K=c+ka+B(M,P)|0;M=M+Rr|0,K=K+$a+B(M,Rr)|0,M=M+Lr|0,K=K+Oa+B(M,Lr)|0,M=M+C|0,K=K+z+B(M,C)|0;var Tr=Fr+Pa|0,Na=Ca+Ua+B(Tr,Fr)|0;c=f,P=R,f=s,R=w,s=o,w=g,g=y+M|0,o=n+K+B(g,y)|0,n=a,y=d,a=i,d=l,i=r,l=u,u=M+Tr|0,r=K+Na+B(u,M)|0}this._al=this._al+u|0,this._bl=this._bl+l|0,this._cl=this._cl+d|0,this._dl=this._dl+y|0,this._el=this._el+g|0,this._fl=this._fl+w|0,this._gl=this._gl+R|0,this._hl=this._hl+P|0,this._ah=this._ah+r+B(this._al,u)|0,this._bh=this._bh+i+B(this._bl,l)|0,this._ch=this._ch+a+B(this._cl,d)|0,this._dh=this._dh+n+B(this._dl,y)|0,this._eh=this._eh+o+B(this._el,g)|0,this._fh=this._fh+s+B(this._fl,w)|0,this._gh=this._gh+f+B(this._gl,R)|0,this._hh=this._hh+c+B(this._hl,P)|0};Et.prototype._hash=function(){var e=ks.allocUnsafe(64);function t(r,i,a){e.writeInt32BE(r,a),e.writeInt32BE(i,a+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};_a.exports=Et});var Ba=p((rh,Ia)=>{"use strict";var Js=Y(),Gs=Sr(),Hs=rt(),Ws=H().Buffer,Ks=new Array(160);function Gt(){this.init(),this._w=Ks,Hs.call(this,128,112)}Js(Gt,Gs);Gt.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Gt.prototype._hash=function(){var e=Ws.allocUnsafe(48);function t(r,i,a){e.writeInt32BE(r,a),e.writeInt32BE(i,a+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};Ia.exports=Gt});var Fa=p((eh,W)=>{"use strict";W.exports=function(t){var r=t.toLowerCase(),i=W.exports[r];if(!i)throw new Error(r+" is not supported (we accept pull requests)");return new i};W.exports.sha=la();W.exports.sha1=da();W.exports.sha224=ma();W.exports.sha256=Ar();W.exports.sha384=Ba();W.exports.sha512=Sr()});var A=ja(Fa());var uh=(()=>{let t=class t{constructor(){this.taskList=J([]),this.listId=J([]),this.sharingEmails=J([]),this.sharedEmails=J({nameSharedLists:[]}),this.selectedId=J(0),this.favoriteMealList=J([]),this.refreshTrigger=J(0),this.sharedListIdRef=null,this.sharedTaskListRef=null,this.sharedMealList=J([]),this.sharedEmailsRef=null,this.loginName="",this.todayDate="",this.loginSrv=At(Cr),this.dataStore=At(Pr),this.router=At(Ur),this.initRefs(),this.initData(),Mr(()=>{localStorage.setItem("selectedListId",this.selectedId().toString())})}initRefs(){if(this.taskListRef)return;let i=localStorage.getItem("login");if(!i)return;this.fbDataBase=this.loginSrv.getfbDataBase(),this.DataBaseApp=this.loginSrv.getDataBaseApp();let a=JSON.parse(i).uid,n=JSON.parse(i).email;this.listIdRef=E(this.DataBaseApp,`listId${a}`),this.taskListRef=E(this.DataBaseApp,`taskList${a}`),this.sharingWithEmailsRef=E(this.DataBaseApp,`sharingEmails${a}`),this.favoriteMealRef=E(this.DataBaseApp,`favoriteMealRef${a}`),this.sharedMealRef=E(this.DataBaseApp,`sharedMealRef${(0,A.default)("sha256").update(n).digest("hex")}`)}initData(){return m(this,null,function*(){this.initRefs(),this.refreshTrigger.update(i=>i+1),yield Promise.all([this.getSharingEmails(),this.getSharedEmails()]),yield Promise.all([this.getListId(),this.getTaskList(),this.getFavoriteMealList(),this.getSharedMealList(),this.getFollowedSharedMealList(this.dataStore.followedEmails(),!1)])})}getLoginName(){return this.setLoginName(JSON.parse(localStorage.getItem("login")).email.split("@")[0]),JSON.parse(localStorage.getItem("login")).email.split("@")[0]}getListId(){return m(this,null,function*(){if(this.initRefs(),!this.listIdRef)return;let i=[];if(yield S(this.listIdRef).then(n=>{n.docs.forEach(o=>{i.push(F(v({},o.data()),{dbId:o.id}))})}),this.sharingEmails().length>0){let n=this.sharingEmails().map(o=>Promise.all(o.nameSharedLists.map(s=>{let f=JSON.parse(localStorage.getItem("login")).email,c=(0,A.default)("sha256").update(f+s).digest("hex");return this.sharedListIdRef=E(this.DataBaseApp,`sharedListId${c}`),S(this.sharedListIdRef).then(u=>{if(u.empty){let l=(0,A.default)("sha256").update(o.allowedEmail+s).digest("hex"),d=E(this.DataBaseApp,`sharedListId${l}`);return S(d).then(y=>{y.docs.forEach(g=>{i.find(w=>w.id===g.data().id)||i.push(F(v({},g.data()),{dbId:g.id}))})})}return u.docs.forEach(l=>{i.find(d=>d.id===l.data().id)||i.push(F(v({},l.data()),{dbId:l.id,firebaseCollectionKey:c}))}),Promise.resolve()})})));yield Promise.all(n)}if(this.sharedEmails()&&this.sharedEmails().nameSharedLists.length>0){let n=this.sharedEmails().nameSharedLists.map(o=>{let s="",f="";typeof o=="string"?(s=JSON.parse(localStorage.getItem("login")).email,f=o):(s=o.owner,f=o.name);let c=(0,A.default)("sha256").update(s+f).digest("hex");return this.sharedListIdRef=E(this.DataBaseApp,`sharedListId${c}`),S(this.sharedListIdRef).then(u=>{u.docs.forEach(l=>{i.find(d=>d.id===l.data().id)||i.push(F(v({},l.data()),{dbId:l.id,firebaseCollectionKey:c}))})})});yield Promise.all(n)}this.listId.set(i);let a=localStorage.getItem("selectedListId");if(a){let n=i.find(o=>o.id==a);n?this.selectedId.set(n.id):i.length>0&&this.selectedId.set(i[0].id)}else i.length>0&&this.selectedId.set(i[0].id)})}getSharedMealList(){return m(this,null,function*(){if(this.initRefs(),!this.sharedMealRef)return;let i=[];yield S(this.sharedMealRef).then(a=>{a.docs.forEach(n=>{i.push(F(v({},n.data()),{dbId:n.id}))})}),this.sharedMealList.set(i),this.dataStore.setSharedMealList(i)})}getFavoriteMealList(){return m(this,null,function*(){if(this.initRefs(),!this.favoriteMealRef)return;let i=[];yield S(this.favoriteMealRef).then(a=>{a.docs.forEach(n=>{i.push(F(v({},n.data()),{dbId:n.id}))})}),this.favoriteMealList.set(i),this.dataStore.setFavoriteMealList(i)})}getFollowedSharedMealList(i,a){return m(this,null,function*(){let n=[],o=i.map(c=>m(this,null,function*(){let u=E(this.DataBaseApp,`sharedMealRef${(0,A.default)("sha256").update(c).digest("hex")}`);if(!u)return;let l=yield S(u),d=[];l.forEach(y=>{d.push(y.data())}),n.push({followedByEmail:c,mealList:d})}));if(yield Promise.all(o),a){let c=this.dataStore.followedEmails();if(i.length>0&&!c.includes(i[0])){let u=[...c,i[0]];this.dataStore.setFollowedEmails(u),localStorage.setItem("followedEmails",JSON.stringify(u))}}let s=[];this.sharedMealRef&&(yield S(this.sharedMealRef)).forEach(u=>s.push(F(v({},u.data()),{dbId:u.id,isMine:!0})));let f=[...n];return this.dataStore.setFollowedSharedMealList(f),n})}previewSharedMeals(i){return m(this,null,function*(){let a=(0,A.default)("sha256").update(i).digest("hex"),n=E(this.DataBaseApp,`sharedMealRef${a}`);if(!n)return[];let o=yield S(n),s=[];return o.forEach(f=>{s.push(f.data())}),s})}unfollowUser(i){return m(this,null,function*(){let n=this.dataStore.followedEmails().filter(o=>o!==i);this.dataStore.setFollowedEmails(n),localStorage.setItem("followedEmails",JSON.stringify(n)),yield this.getFollowedSharedMealList(n,!1)})}getTaskList(){return m(this,null,function*(){if(this.initRefs(),!this.taskListRef)return;let i=[];yield S(this.taskListRef).then(n=>{n.docs.forEach(o=>{i.push(F(v({},o.data()),{dbId:o.id}))})});let a=this.sharingEmails().map(n=>Promise.all(n.nameSharedLists.map(o=>{let s=JSON.parse(localStorage.getItem("login")).email,f=(0,A.default)("sha256").update(s+o).digest("hex");return this.sharedTaskListRef=E(this.DataBaseApp,`sharedTaskList${f}`),S(this.sharedTaskListRef).then(c=>{if(c.empty){let u=(0,A.default)("sha256").update(n.allowedEmail+o).digest("hex"),l=E(this.DataBaseApp,`sharedTaskList${u}`);return S(l).then(d=>{d.docs.forEach(y=>{if(!i.find(g=>g.id===y.data().id)){let g=y.data();g.isShared=!0,g.sharedBy=s,g.ownerListName=o,i.push(F(v({},g),{dbId:y.id}))}})})}return c.docs.forEach(u=>{if(!i.find(l=>l.id===u.data().id)){let l=u.data();l.isShared=!0,l.sharedBy=s,l.ownerListName=o,i.push(F(v({},l),{dbId:u.id}))}}),Promise.resolve()})})));if(yield Promise.all(a),this.sharedEmails()&&this.sharedEmails().nameSharedLists.length>0){let n=this.sharedEmails().nameSharedLists.map(o=>{let s="",f="";typeof o=="string"?(s=JSON.parse(localStorage.getItem("login")).email,f=o):(s=o.owner,f=o.name);let c=(0,A.default)("sha256").update(s+f).digest("hex");return this.sharedTaskListRef=E(this.DataBaseApp,`sharedTaskList${c}`),S(this.sharedTaskListRef).then(u=>{u.docs.forEach(l=>{if(!i.find(d=>d.id===l.data().id)){let d=l.data();d.isShared=!0,d.sharedBy=s,d.ownerListName=f,i.push(F(v({},d),{dbId:l.id}))}})})});yield Promise.all(n)}this.taskList.set(i)})}getSharingEmails(){return m(this,null,function*(){if(this.initRefs(),!this.sharingWithEmailsRef)return;let i=[];yield S(this.sharingWithEmailsRef).then(a=>{a.docs.forEach(n=>{i.push(F(v({},n.data()),{dbId:n.id}))})}),this.sharingEmails.set(i)})}getSharedEmails(){return m(this,null,function*(){if(this.initRefs(),!this.DataBaseApp)return;let i;this.sharedEmailsRef=E(this.DataBaseApp,`sharedEmails${(0,A.default)("sha256").update(`${JSON.parse(localStorage.getItem("login")).email}`).digest("hex")}`),yield S(this.sharedEmailsRef).then(a=>{a.docs.forEach(n=>{i={nameSharedLists:[...i?.nameSharedLists||[],...n.data().nameSharedLists],dbId:n.id}})}),i&&this.sharedEmails.set(i)})}getDateString(){return this.todayDate}getSelectedListId(){return this.selectedId()}setLoginName(i){this.loginName=i}setDateString(i){this.todayDate=i}setSelectedListId(i){this.selectedId.set(i)}updateListId(i){return m(this,null,function*(){if(this.initRefs(),!this.listIdRef)return;let a={id:new Date().valueOf()*2,name:i,editMode:!1,listID:0,showSharedList:!0,isShared:!1,sharedWith:"",sharedBy:localStorage.getItem("login")?JSON.parse(localStorage.getItem("login")).email:""};yield q(this.listIdRef,a),this.listId.update(n=>[...n,a]),localStorage.setItem(`listId${JSON.parse(localStorage.getItem("login")).uid}`,JSON.stringify(this.listId())),yield this.getListId()})}updateMySharedMeal(i,a){return m(this,null,function*(){if(this.initRefs(),!this.sharedMealRef)return;let n,o="";typeof i=="string"?(o=i,n=F(v({},this.favoriteMealList().find(u=>u.name===i||u.strMeal===i)),{published:a})):(o=i.strMeal||i.name,n=F(v({},i),{published:a}));let s=yield S(this.sharedMealRef),f="";if(s.forEach(u=>{let l=u.data();(l.name===o||l.strMeal===o)&&(f=u.id)}),f){let u=L(this.sharedMealRef,f);yield k(u,v({},n))}else yield q(this.sharedMealRef,n);typeof i!="string"&&(n.name||(n.name=n.strMeal)),yield this.updateFavoriteMeal(n,a),yield this.getSharedMealList();let c=this.dataStore.followedEmails();yield this.getFollowedSharedMealList(c,!1)})}deleteMySharedMeal(i){return m(this,null,function*(){if(this.initRefs(),!this.sharedMealRef)return;let a=this.dataStore.sharedMealList().find(s=>s.name===i.name||s.strMeal===i.strMeal)?.dbId;if(!a){console.error("Invalid dbId for deleteFavoriteMeal:",i);return}let n=L(this.DataBaseApp,`sharedMealRef${(0,A.default)("sha256").update(JSON.parse(localStorage.getItem("login")).email).digest("hex")}`,a);try{yield V(n),i.published=!1,this.updateFavoriteMeal(i,!1),console.log("DeleteFavoriteMeal: Success",i)}catch(s){console.error("DeleteFavoriteMeal: Failed",s)}let o=this.favoriteMealList().filter(s=>s.dbId!==a);this.favoriteMealList.set(o),this.dataStore.setFavoriteMealList(o),yield this.getSharedMealList()})}updateFavoriteMeal(i,a=!1){return m(this,null,function*(){if(this.initRefs(),!this.favoriteMealRef)return;let n;typeof i=="string"?n={id:new Date().valueOf(),name:i,isCustom:!1,published:a}:n=F(v({},i),{isCustom:!0,published:a});let o=typeof i=="string"?i:i.strMeal||i.name,s=this.dataStore.favoriteMealList().find(f=>f.name===o||f.strMeal===o)?.dbId;if(s){let f=L(this.DataBaseApp,`favoriteMealRef${JSON.parse(localStorage.getItem("login")).uid}`,s);yield k(f,v({},n))}else yield q(this.favoriteMealRef,n);yield this.getFavoriteMealList()})}deleteFavoriteMeal(i){return m(this,null,function*(){if(this.initRefs(),!this.favoriteMealRef)return;let a=this.dataStore.favoriteMealList().find(s=>s.name===i||s.strMeal===i)?.dbId;if(!a){console.error("Invalid dbId for deleteFavoriteMeal:",i);return}let n=L(this.DataBaseApp,`favoriteMealRef${JSON.parse(localStorage.getItem("login")).uid}`,a);try{yield V(n),console.log("DeleteFavoriteMeal: Success",i)}catch(s){console.error("DeleteFavoriteMeal: Failed",s)}let o=this.favoriteMealList().filter(s=>s.dbId!==a);this.favoriteMealList.set(o),this.dataStore.setFavoriteMealList(o)})}deleteList(i,a){return m(this,null,function*(){if(this.initRefs(),!this.listIdRef)return;a.forEach(s=>this.deleteTask(s.id));let n=this.listId().find(s=>s.id==i),o=this.listId().find(s=>s.id==i)?.dbId;if(!o){console.error("Invalid dbId for deleteList:",i);return}if(n?.isShared){(Array.isArray(n.sharedWith)?n.sharedWith:[n.sharedWith]).forEach(u=>{let l,d=this.sharingEmails().find(y=>y.allowedEmail==u);if(d){let y=d.dbId;if(y){let g=L(this.DataBaseApp,`sharingEmails${JSON.parse(localStorage.getItem("login")).uid}`,y);d.nameSharedLists=d.nameSharedLists.filter(w=>w!=n.name),d.nameSharedLists.length==0?V(g):k(g,{nameSharedLists:d.nameSharedLists})}}});let f=Array.isArray(n.sharedWith)?(0,A.default)("sha256").update(`${n.sharedBy}${n.name}`).digest("hex"):(0,A.default)("sha256").update(`${n.sharedWith}${n.name}`).digest("hex"),c=L(this.DataBaseApp,`sharedListId${f}`,o);V(c)}else{let s=L(this.DataBaseApp,`listId${JSON.parse(localStorage.getItem("login")).uid}`,o);V(s)}this.listId.update(s=>s.filter(f=>f.id!=i)),this.listId().length>0&&this.selectedId.set(this.listId()[0].id)})}createSharedList(i,a){return m(this,null,function*(){if(this.initRefs(),!this.listIdRef)return;let n=this.listId().find(l=>l.id==i),o=this.taskList().filter(l=>l.listID==i),s=this.taskList().filter(l=>l.listID==i);yield this.deleteList(this.selectedId(),o),n&&(n.showSharedList=!1,n.isShared=!0,n.sharedWith=a);let f=JSON.parse(localStorage.getItem("login")).email,c=(0,A.default)("sha256").update(`${f}${n.name}`).digest("hex");this.sharedListIdRef=E(this.DataBaseApp,`sharedListId${c}`),this.sharedTaskListRef=E(this.DataBaseApp,`sharedTaskList${c}`),yield q(this.sharedListIdRef,n),s.forEach(l=>m(this,null,function*(){yield q(this.sharedTaskListRef,l)}));let u=a.map(l=>m(this,null,function*(){let d,y=this.sharingEmails().find(R=>R.allowedEmail==l);if(y){let R=y.dbId;if(R){let P=L(this.DataBaseApp,`sharingEmails${JSON.parse(localStorage.getItem("login")).uid}`,R);y.nameSharedLists.includes(n.name)||y.nameSharedLists.push(n.name),yield k(P,v({},y))}}else d={allowedEmail:l,nameSharedLists:[n.name]},yield q(this.sharingWithEmailsRef,d);let g=E(this.DataBaseApp,`sharedEmails${(0,A.default)("sha256").update(`${l}`).digest("hex")}`),w=yield S(g);if(w.empty){let R={name:n.name,owner:f};yield q(g,{nameSharedLists:[R]})}else{let R=w.docs[0].id,P=w.docs[0].data(),b={name:n.name,owner:f};if(!P.nameSharedLists.find(D=>(typeof D=="string"?D:D.name)===n.name&&(typeof D=="string"?!0:D.owner===f))){P.nameSharedLists.push(b);let D=L(this.DataBaseApp,`sharedEmails${(0,A.default)("sha256").update(`${l}`).digest("hex")}`,R);yield k(D,{nameSharedLists:P.nameSharedLists})}}}));yield Promise.all(u),yield this.getSharingEmails(),yield this.getSharedEmails(),yield this.getListId(),yield this.getTaskList()})}deleteTask(i){return m(this,null,function*(){if(this.initRefs(),!this.taskListRef)return;let a=this.taskList().find(n=>n.id==i);if(!a){console.error("DeleteTask: Task not found in list",i);return}if(!a.dbId){console.error("DeleteTask: Task missing dbId",a);return}console.log("DeleteTask: Deleting task",i,"Shared:",a.isShared);try{if(a.isShared){let n=(0,A.default)("sha256").update(`${a.sharedBy}${a.ownerListName}`).digest("hex"),o=L(this.DataBaseApp,`sharedTaskList${n}`,a.dbId);yield V(o),console.log("DeleteTask: Deleted shared task from key:",n)}else{let n=L(this.DataBaseApp,`taskList${JSON.parse(localStorage.getItem("login")).uid}`,a.dbId);yield V(n),console.log("DeleteTask: Deleted private task")}}catch(n){console.error("DeleteTask: Failed to delete doc",n)}this.taskList.update(n=>n.filter(o=>o.id!=i))})}updateTaskData(i){return m(this,null,function*(){let a=JSON.parse(JSON.stringify(i));if(this.initRefs(),!this.taskListRef){console.error("Cannot update task: Database not initialized");return}console.log("DataService: updateTaskData called."),console.log("DataService: Task isShared:",i.isShared),console.log("DataService: SharedBy:",i.sharedBy,"OwnerList:",i.ownerListName),this.taskList.update(n=>{let o=n.findIndex(s=>s.id===i.id);if(o>-1){let s=[...n];return s[o]=i,s}else return[...n,i]});try{if(i.isShared){let n=(0,A.default)("sha256").update(`${i.sharedBy}${i.ownerListName}`).digest("hex");if(this.sharedTaskListRef=E(this.DataBaseApp,`sharedTaskList${n}`),i.dbId){let o=L(this.DataBaseApp,`sharedTaskList${n}`,i.dbId);yield k(o,v({},a))}else yield q(this.sharedTaskListRef,a),this.getTaskList()}else if(i.dbId){let n=L(this.DataBaseApp,`taskList${JSON.parse(localStorage.getItem("login")).uid}`,i.dbId);yield k(n,v({},a))}else yield q(this.taskListRef,a),this.getTaskList()}catch(n){console.error("Firestore Update Failed:",n)}})}getTemplates(){let i=localStorage.getItem("taskTemplates");return i?JSON.parse(i):[]}saveTemplate(i,a){let n=this.getTemplates(),o={id:new Date().getTime().toString(),name:i,tasks:a};n.push(o),localStorage.setItem("taskTemplates",JSON.stringify(n))}deleteTemplate(i){let a=this.getTemplates().filter(n=>n.id!==i);localStorage.setItem("taskTemplates",JSON.stringify(a))}updateTemplate(i){let a=this.getTemplates(),n=a.findIndex(o=>o.id===i.id);n!==-1&&(a[n]=i,localStorage.setItem("taskTemplates",JSON.stringify(a)))}loadTemplateIntoList(i,a){let o=this.getTemplates().find(s=>s.id===i);o&&o.tasks&&o.tasks.forEach(s=>{let f={listID:a,id:new Date().valueOf()+Math.random(),task:s,author:this.getLoginName(),date:this.getDateString(),status:"don't you forget",currentStatus:1,editMode:!1,seeInfo:!1,color:Math.floor(Math.random()*16777215).toString(16),isCheckBox:!0,didIt:!1};this.taskList.update(c=>[...c,f]),this.updateTaskData(f)})}updateListData(i,a){return m(this,null,function*(){if(this.initRefs(),i.dbId)if(i.isShared){let n=a||i.name,o=i.sharedBy||JSON.parse(localStorage.getItem("login")).email,s=(0,A.default)("sha256").update(`${o}${n}`).digest("hex"),f=i.firebaseCollectionKey||s;console.log("UpdateListData: Updating Shared List. Key:",f),this.sharedListIdRef=E(this.DataBaseApp,`sharedListId${f}`);let c=L(this.DataBaseApp,`sharedListId${f}`,i.dbId);yield k(c,F(v({},i),{firebaseCollectionKey:f})).catch(u=>console.error("UpdateListData: Failed to update shared list",u))}else{let n=L(this.DataBaseApp,`listId${JSON.parse(localStorage.getItem("login")).uid}`,i.dbId);yield k(n,v({},i))}yield this.getListId()})}updateTaskList(i){this.updateTaskData(i)}fordev(){console.log("for dev"),console.log(this.sharingEmails()),console.log(this.sharedEmails()),console.log(this.listId()),console.log(this.taskList()),console.log(this.dataStore.favoriteMealList())}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=Dr({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();export{uh as a};
