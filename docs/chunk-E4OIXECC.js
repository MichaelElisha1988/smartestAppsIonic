import{c as q,d as v,f as m,g as _}from"./chunk-YJME7E34.js";import{g as G}from"./chunk-MB73EJOX.js";import{a as V,b as D}from"./chunk-UE6YNBIL.js";import{B as w,D as P,Ea as k,H as M,I as O,Ka as F,La as l,M as s,Ma as N,N as e,Na as R,O as n,Oa as I,P as p,Pa as d,Qa as L,Ta as E,U as h,Ua as z,W as b,Za as T,ba as r,bb as A,ca as f,da as C,l as c,qa as x,sa as S,wa as y,x as o}from"./chunk-I5U5BI7O.js";import"./chunk-GQCLFBIM.js";import"./chunk-EIEWDIBR.js";import"./chunk-JESEPVNO.js";import"./chunk-NEORG5UN.js";import"./chunk-YGWVLMXU.js";import"./chunk-RIYP44A5.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-FNBMHXHF.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-YDOXD4O3.js";function H(i,a){if(i&1&&p(0,"input",11),i&2){let j=b();s("ngClass",j.isRegister?"seeThePass":"")}}function J(i,a){i&1&&(e(0,"label",10),r(1,"Confirm Password: "),n())}var ie=(()=>{let a=class a{constructor(){this.loginSrv=c(G),this.loaderService=c(V),this.dataStore=c(D).appDataStore,this.router=c(k),this.loginForm=new I({usenName:new d("",{updateOn:"change",validators:[l.required,l.email]}),password:new d("",{updateOn:"change",validators:[l.required]}),passwordConfirm:new d("",{updateOn:"change",validators:[]})}),this.errorMsg=null,this.isRegister=!1}ngOnInit(){}register(){this.isRegister=!this.isRegister,this.errorMsg="",this.isRegister?this.loginForm.controls.passwordConfirm.addValidators(l.required):this.loginForm.controls.passwordConfirm.removeValidators(l.required),this.loginForm.controls.passwordConfirm.updateValueAndValidity()}onSubmit(u){this.errorMsg="",u?this.loginForm.controls.password.value===this.loginForm.controls.passwordConfirm.value?(this.loginSrv.createAccount(this.loginForm.controls.usenName.value,this.loginForm.controls.password.value),this.loaderService.showLoader(!0),setTimeout(()=>{this.isRegister=!1,this.loginSrv.signIn(this.loginForm.controls.usenName.value,this.loginForm.controls.password.value),this.dataStore.setLoginError(""),setTimeout(()=>{sessionStorage.getItem("return")?this.router.navigate([sessionStorage.getItem("return")]):this.router.navigate([""])},1e3),this.loaderService.showLoader(!1)},1e3)):this.dataStore.setLoginError("Please make sure that the Email is currect and the password is eqal"):(this.loaderService.showLoader(!0),this.loginSrv.signIn(this.loginForm.controls.usenName.value,this.loginForm.controls.password.value).then(()=>{this.loaderService.showLoader(!1),sessionStorage.getItem("return")?this.router.navigate([sessionStorage.getItem("return")]):this.router.navigate(["home"])}).catch(()=>{this.loaderService.showLoader(!1)}))}};a.\u0275fac=function(g){return new(g||a)},a.\u0275cmp=w({type:a,selectors:[["app-login"]],decls:31,vars:10,consts:[[3,"fullscreen"],["id","container"],[1,"home"],[1,"wrap"],[1,"title"],[1,"login",3,"ngSubmit","formGroup"],[1,"input-wrapper"],["id","usenName","type","email","formControlName","usenName","placeholder"," ","autocomplete","current-password",1,"i"],["for","usenName",1,"l"],["id","password","type","password","formControlName","password","placeholder"," ","autocomplete","current-password",1,"i",3,"ngClass"],["for","password",1,"l"],["id","password","type","password","formControlName","passwordConfirm","placeholder"," ","autocomplete","current-password",1,"i",3,"ngClass"],["class","l","for","password",4,"ngIf"],["type","submit",3,"disabled"],[1,"coming-soon"],[3,"click"],[1,"footer"]],template:function(g,t){g&1&&(e(0,"ion-content",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"h1"),r(6),n()(),e(7,"form",5),h("ngSubmit",function(){return t.onSubmit(t.isRegister)}),e(8,"div",6),p(9,"input",7),e(10,"label",8),r(11,"Email :"),n()(),e(12,"div",6),p(13,"input",9),e(14,"label",10),r(15,"Password: "),n()(),e(16,"div",6),M(17,H,1,1,"input",11),P(18,J,2,0,"label",12),n(),e(19,"button",13),r(20),n()(),e(21,"div",14)(22,"span"),r(23),n(),e(24,"button",15),h("click",function(){return t.register()}),r(25),n()()(),e(26,"div",16)(27,"span"),r(28,"\xA9 2023 smartestApps"),n(),e(29,"span"),r(30,"All rights reserved"),n()()()()()),g&2&&(s("fullscreen",!0),o(6),f(t.isRegister?"Register":"Login"),o(),s("formGroup",t.loginForm),o(6),s("ngClass",t.isRegister?"seeThePass":""),o(4),O(t.isRegister?17:-1),o(),s("ngIf",t.isRegister),o(),s("disabled",t.loginForm.status=="INVALID"),o(),C(" ",t.isRegister?"Register":"Login"," "),o(3),f(t.dataStore.loginError()),o(2),C(" ",t.isRegister?"Click here to Log-in":"Click here to Register"," "))},dependencies:[y,x,S,A,T,L,F,N,R,E,z],styles:[".home[_ngcontent-%COMP%]{width:100%;min-height:100vh;box-sizing:border-box;display:flex;justify-content:center;flex-direction:column;align-items:center;background:radial-gradient(circle at 50% 10%,var(--c-primary-glow),transparent 40%)}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{position:relative;width:90%;max-width:400px;padding:30px 20px;background:var(--glass-bg);-webkit-backdrop-filter:blur(16px);backdrop-filter:blur(16px);border:1px solid var(--glass-border);box-shadow:0 10px 40px #00000080;border-radius:24px;overflow:hidden}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:2rem;font-weight:800;margin-bottom:30px;color:var(--ion-color-primary-contrast);text-shadow:0 0 10px var(--c-primary-glow);letter-spacing:1px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative;margin-bottom:25px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;color:var(--c-silver);position:absolute;left:15px;top:14px;transition:.3s all;pointer-events:none;background:transparent}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1rem;width:100%;padding:12px 15px;border-radius:12px;color:var(--ion-text-color);background:#ffffff08;border:1px solid var(--glass-border);transition:.3s all}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--ion-color-primary);box-shadow:0 0 10px var(--c-primary-glow);background:#ffffff0d}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .i[_ngcontent-%COMP%]:focus + .l[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .i[_ngcontent-%COMP%]:not(:placeholder-shown) + .l[_ngcontent-%COMP%]{top:-10px;left:10px;font-size:.8rem;color:var(--ion-color-primary);background:var(--c-surface);padding:0 5px;border-radius:4px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px;padding:15px;border-radius:30px;width:100%;font-size:1.1rem;font-weight:700;background:linear-gradient(90deg,var(--ion-color-primary),var(--ion-color-secondary));border:none;color:#000;cursor:pointer;box-shadow:0 0 15px var(--c-primary-glow);transition:.3s transform,.3s box-shadow}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.98)}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:0 0 25px var(--c-primary-glow)}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:var(--c-surface);color:var(--c-silver);box-shadow:none;cursor:not-allowed;border:1px solid var(--glass-border)}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .coming-soon[_ngcontent-%COMP%]{margin-top:30px;text-align:center}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .coming-soon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--c-silver);font-size:.9rem;display:block;margin-bottom:15px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .coming-soon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--ion-color-secondary);text-decoration:underline;font-size:1rem;cursor:pointer}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .coming-soon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{text-shadow:0 0 8px var(--c-secondary-glow)}.footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;padding:15px;background:var(--c-surface);border-top:1px solid var(--glass-border);display:flex;justify-content:center;color:var(--c-silver);font-size:.8rem;letter-spacing:1px}"],data:{animation:[q("openClose",[_(":enter",[m({opacity:0,height:"0px"}),v("0.3s",m({opacity:1,height:"*"}))]),_(":leave",[v("0.3s",m({opacity:0,height:0}))])])]}});let i=a;return i})();export{ie as LoginPage};
