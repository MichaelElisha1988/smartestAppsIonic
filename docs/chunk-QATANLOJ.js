import{Ca as P,Sa as H,Ta as R,a as C,b as A,d as F,g as u,i as D,k as p,l as x,o as v,pa as m,q as b,qa as N,r as h,ra as k,s as j}from"./chunk-EMEYSWGD.js";import{a as i,b as M}from"./chunk-YDOXD4O3.js";var W=Symbol("DEEP_SIGNAL");function U(t){return new Proxy(t,{has(e,n){return!!this.get(e,n,void 0)},get(e,n){let o=m(e);return!X(o)||!(n in o)?(h(e[n])&&e[n][W]&&delete e[n],e[n]):(h(e[n])||(Object.defineProperty(e,n,{value:N(()=>e()[n]),configurable:!0}),e[n][W]=!0),U(e[n]))}})}var Q=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function X(t){if(t===null||typeof t!="object"||Y(t))return!1;let e=Object.getPrototypeOf(t);if(e===Object.prototype)return!0;for(;e&&e!==Object.prototype;){if(Q.includes(e.constructor))return!1;e=Object.getPrototypeOf(e)}return e===Object.prototype}function Y(t){return typeof t?.[Symbol.iterator]=="function"}var Z=new WeakMap,d=Symbol("STATE_SOURCE");function f(t,...e){let n=m(()=>$(t)),o=e.reduce((r,c)=>i(i({},r),typeof c=="function"?c(r):c),n),s=t[d],a=Reflect.ownKeys(t[d]);for(let r of Reflect.ownKeys(o))if(a.includes(r)){let c=r;n[c]!==o[c]&&s[c].set(o[c])}ee(t)}function $(t){let e=t[d];return Reflect.ownKeys(t[d]).reduce((n,o)=>{let s=e[o]();return M(i({},n),{[o]:s})},{})}function _(t){return Z.get(t[d])||[]}function ee(t){let e=_(t);for(let n of e){let o=m(()=>$(t));n(o)}}function G(...t){let e=[...t],n=typeof e[0]=="function"?{}:e.shift(),o=e;return(()=>{class a{constructor(){let c=o.reduce((E,B)=>B(E),te()),{stateSignals:y,props:S,methods:w,hooks:g}=c,I=i(i(i({},y),S),w);this[d]=c[d];for(let E of Reflect.ownKeys(I))this[E]=I[E];let{onInit:O,onDestroy:L}=g;O&&O(),L&&p(b).onDestroy(L)}static \u0275fac=function(y){return new(y||a)};static \u0275prov=D({token:a,factory:a.\u0275fac,providedIn:n.providedIn||null})}return a})()}function te(){return{[d]:{},stateSignals:{},props:{},methods:{},hooks:{}}}function J(t){return e=>{let n=t(i(i(i({[d]:e[d]},e.stateSignals),e.props),e.methods));return Reflect.ownKeys(n),M(i({},e),{methods:i(i({},e.methods),n)})}}function z(t){return e=>{let n=typeof t=="function"?t():t,o=Reflect.ownKeys(n);let s=e[d],a={};for(let r of o)s[r]=j(n[r]),a[r]=U(s[r]);return M(i({},e),{stateSignals:i(i({},e.stateSignals),a)})}}function l(t,e){e?.injector||x(l);let n=e?.injector??p(v),o=new A,s=t(o).subscribe();n.get(b).onDestroy(()=>s.unsubscribe());let a=(r,c)=>{if(ne(r))return o.next(r),{destroy:C};let y=oe(),S=c?.injector??y??n;if(h(r)){let g=k(()=>{let I=r();m(()=>o.next(I))},{injector:S});return s.add({unsubscribe:()=>g.destroy()}),g}let w=r.subscribe(g=>o.next(g));return s.add(w),S!==n&&S.get(b).onDestroy(()=>w.unsubscribe()),{destroy:()=>w.unsubscribe()}};return a.destroy=s.unsubscribe.bind(s),a}function ne(t){return!h(t)&&!F(t)}function oe(){try{return p(v)}catch{return}}var T=function(t){return t[t.HOME=0]="HOME",t[t.KITCHEN=1]="KITCHEN",t[t.LENGHT=2]="LENGHT",t[t.TEMPERATURE=3]="TEMPERATURE",t}(T||{}),K=function(t){return t[t.MEASURE=0]="MEASURE",t[t.RECIPIES=1]="RECIPIES",t[t.TODOLIST=2]="TODOLIST",t}(K||{});var re={loader:!1,measureStatus:{action:null,status:T.HOME},menuStatus:K.MEASURE,measureForm:new H({measureNum:new R("",{nonNullable:!0}),measurment:new R("",{nonNullable:!0}),density:new R("",{nonNullable:!0})}),login$:localStorage.getItem("login")?JSON.parse(localStorage.getItem("login")):null,loginError:"",afterlogin$:!!localStorage.getItem("login"),favoriteMealList:[],sharedMealList:[],selectedMeal:null,followedEmails:localStorage.getItem("followedEmails")?JSON.parse(localStorage.getItem("followedEmails")):[],followedSharedMealList:[]},q=G({providedIn:"root"},z(re),J(t=>({changeMeasureStatus:l(e=>e.pipe(u(n=>{f(t,{measureStatus:{action:n.action,status:n.status}}),t.measureForm().reset()}))),setLogin:l(e=>e.pipe(u(n=>f(t,{login$:n})))),setAfterLogin:l(e=>e.pipe(u(n=>f(t,{afterlogin$:n})))),setFollowedSharedMealList:l(e=>e.pipe(u(n=>f(t,{followedSharedMealList:n})))),setFollowedEmails:l(e=>e.pipe(u(n=>f(t,{followedEmails:n})))),setLoginError:l(e=>e.pipe(u(n=>f(t,{loginError:n})))),setFavoriteMealList:l(e=>e.pipe(u(n=>f(t,{favoriteMealList:n})))),setSharedMealList:l(e=>e.pipe(u(n=>f(t,{sharedMealList:n})))),showLoader:l(e=>e.pipe(u(n=>f(t,{loader:n})))),setSelectedMeal:l(e=>e.pipe(u(n=>f(t,{selectedMeal:n})))),setMenuStatus:l(e=>e.pipe(u(n=>f(t,{menuStatus:n}))))})));var Me=(()=>{let e=class e{constructor(){this.http=p(P),this.appDataStore=p(q),this.homeInnerData=j({title:"",actions:[]}),this.headerInnerData=j({gtransIcon:"",accIcon:"",logoIcon:"",profile:{settings:{},userName:"",profileIcon:""}})}getDataFromJson(){this.http.get("assets/homeInnerDate.json").subscribe(o=>{this.homeInnerData.set(o)}),this.http.get("assets/headerInnerDate.json").subscribe(o=>{this.headerInnerData.set(o)})}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{q as a,Me as b};
