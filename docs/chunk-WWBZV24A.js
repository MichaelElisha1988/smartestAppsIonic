import{a as S}from"./chunk-VN5WCM4Z.js";import{a as Z}from"./chunk-H4M6VWIG.js";import"./chunk-RNBDFMH5.js";import{a as Y}from"./chunk-CKON5IMI.js";import{Aa as N,B as V,Fa as L,H as f,I as _,J as P,K as O,L as b,La as $,M as d,N as a,Na as j,O as s,Oa as D,P as w,Pa as G,Qa as I,Ra as U,T as k,Ta as A,Ua as H,V as u,Va as W,Wa as q,X as l,Xa as J,Ya as K,Za as Q,bb as X,ca as p,da as F,ea as T,f as x,fa as R,ga as v,j as B,k as E,l as m,n as g,o as h,qa as y,t as C,w as M,x as o,xa as z}from"./chunk-WTE77RXS.js";import"./chunk-GQCLFBIM.js";import"./chunk-EIEWDIBR.js";import"./chunk-JESEPVNO.js";import"./chunk-NEORG5UN.js";import"./chunk-YGWVLMXU.js";import"./chunk-RIYP44A5.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-FNBMHXHF.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-YDOXD4O3.js";var ee=(()=>{let n=class n{constructor(e){this.http=e,this.baseURL="www.themealdb.com/api/json/v1/1/",this.searchByNameOrLetters="search.php?s=",this.searchByFirstLetter="search.php?f=",this.searchById="lookup.php?i=",this.searchRandomMeals="random.php"}getRandomMeal(){return this.http.get(`https://www.themealdb.com/api/json/v1/1/${this.searchRandomMeals}`)}getMealByName(e){return this.http.get(`https://www.themealdb.com/api/json/v1/1/${this.searchByNameOrLetters}${e}`)}getSearchedByFirstLetter(e){return this.http.get(`https://www.themealdb.com/api/json/v1/1/${this.searchByFirstLetter}${e}`)}getSearchedById(e){return this.http.get(`https://www.themealdb.com/api/json/v1/1/${this.searchById}${e}`)}};n.\u0275fac=function(i){return new(i||n)(E(N))},n.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();function ie(t,n){if(t&1&&(a(0,"span",19),p(1),s()),t&2){let r=l(2);o(),T(", ",r.selectedMeal().strTags.split(",")[0])}}function ne(t,n){if(t&1){let r=k();a(0,"div",2)(1,"div",12),u("click",function(){g(r);let i=l();return h(i.notFav?i.addTofavorite():i.deleteFromFavorite())}),w(2,"img",13),s(),w(3,"img",14)(4,"div",15),a(5,"div",16)(6,"div",17),p(7),s(),a(8,"div",18),p(9),f(10,ie,2,1,"span",19),s(),a(11,"div",20),u("click",function(){g(r);let i=l();return h(i.ViewuserDetail(i.selectedMeal()))}),p(12," Lets's cook it... "),s()()()}if(t&2){let r=l();o(2),d("src",v(r.notFav?"assets/favorite.png":"assets/delete.png"),M),o(),d("src",v(r.selectedMeal().strMealThumb),M),o(4),F(r.selectedMeal().strCategory),o(2),R(" ",r.selectedMeal().strMeal," - ",r.selectedMeal().strArea," "),o(),_(r.selectedMeal().strTags?10:-1)}}function re(t,n){if(t&1&&(a(0,"option",21),p(1),s()),t&2){let r=n.$implicit,e=n.$index;d("value",e),o(),F(r.strMeal)}}function oe(t,n){if(t&1&&(a(0,"select",5),O(1,re,2,2,"option",21,P),s()),t&2){let r=l();o(),b(r.searchMealsInStok())}}function ae(t,n){if(t&1){let r=k();a(0,"div",9)(1,"img",22),u("click",function(){let i=g(r).$implicit,c=l();return h(c.selectMeal(i))}),s()()}if(t&2){let r=n.$implicit;o(),d("src",v(r.strMealThumb),M)}}function se(t,n){t&1&&(a(0,"div",10)(1,"p"),p(2,"No favorite meals yet."),s()())}function ce(t,n){if(t&1){let r=k();a(0,"div",9)(1,"img",25),u("click",function(){let i=g(r).$implicit,c=l(2);return h(c.selectMeal(i))}),s()()}if(t&2){let r=n.$implicit;o(),d("src",v(r.strMealThumb),M)("alt",r.strMeal)}}function le(t,n){if(t&1&&(a(0,"div",11)(1,"h2",23),p(2,"Random Recipies :"),s(),a(3,"div",24),O(4,ce,2,3,"div",9,P),s()()),t&2){let r=l();o(4),b(r.tenMealsInStok)}}var be=(()=>{let n=class n{constructor(){this.searchForm=new G({search:new I("",{updateOn:"change"}),searchMeal:new I(null,{updateOn:"change"})}),this.router=m(L),this.recipiesSrv=m(ee),this.dataStore=m(Y),this.dataHttp=m(Z),this.notFav=!0,this.searchFormStatusEffect=S(this.searchForm.statusChanges),this.searchMealValueEffect=S(this.searchForm.controls.searchMeal.valueChanges),this.searchFormValueEffect=S(this.searchForm.valueChanges),this.selectedMeal=C(null),this.searchMealsInStok=C([]),this.favoriteMealList=C([]),this.tenMealsInStok=[],y(()=>{this.searchFormValueEffect()&&this.searchFormValueEffect().search&&this.searchFormValueEffect().search.length>=2?this.recipiesSrv.getMealByName(this.searchFormValueEffect().search).pipe(x(2)).subscribe(e=>{this.searchMealsInStok.set(e.meals)}):this.searchMealsInStok.set([])}),y(()=>{this.searchMealValueEffect()&&this.selectedMeal.set(this.searchMealsInStok()[this.searchMealValueEffect()])}),y(()=>{this.favoriteMealList.set([]);for(let e=0;e<this.dataStore.favoriteMealList().length;e++)this.recipiesSrv.getMealByName(this.dataStore.favoriteMealList()[e].name).pipe(x(1)).subscribe(i=>{this.favoriteMealList().push(i.meals[0])})})}addTofavorite(){this.selectedMeal()&&(this.favoriteMealList.update(e=>[...e,this.selectedMeal()]),this.dataHttp.updateFavoriteMeal(this.selectedMeal().strMeal),this.notFav=!1)}deleteFromFavorite(){this.selectedMeal()&&(this.favoriteMealList.update(e=>e.filter(i=>i.idMeal!==this.selectedMeal().idMeal)),this.dataHttp.deleteFavoriteMeal(this.selectedMeal().strMeal),this.notFav=!0)}ngOnInit(){let e=[];for(let i=0;i<10;i++)this.recipiesSrv.getRandomMeal().pipe(x(1)).subscribe(c=>{e.push(c.meals[0]),i===0&&this.selectedMeal.set(c.meals[0])});this.tenMealsInStok=e}selectMeal(e){this.favoriteMealList().filter(i=>i.idMeal===e.idMeal).length>0?this.notFav=!1:this.notFav=!0,this.selectedMeal.set(e)}ViewuserDetail(e){this.dataStore.setSelectedMeal(e),this.router.navigate(["/recepies-book",e.idMeal])}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=V({type:n,selectors:[["app-recepies-book"]],decls:14,vars:6,consts:[[3,"fullscreen"],[1,"recepies"],[1,"recipie-item-big"],[1,"recepies-search",3,"formGroup"],["type","text","formControlName","search","placeholder","What we cook today..."],["name","searchMeals","id","searchMeals","formControlName","searchMeal",1,"searchMeals"],[1,"favorite-list-wrapper"],[1,"favorite"],[1,"favorite-list"],[1,"recipie-item-small"],[1,"empty-favorite"],[1,"random-list-wrapper"],[1,"tofavorite",3,"click"],["alt","",3,"src"],["alt","steak",1,"back-img",3,"src"],[1,"blur-back-img"],[1,"recipie-info"],[1,"recipie-category"],[1,"recipie-title"],[1,"tags"],[1,"read-more",3,"click"],[3,"value"],["alt","steak",1,"back-img",3,"click","src"],[1,"random"],[1,"random-list"],[1,"back-img",3,"click","src","alt"]],template:function(i,c){i&1&&(a(0,"ion-content",0)(1,"section",1),f(2,ne,13,8,"div",2),a(3,"form",3),w(4,"input",4),f(5,oe,3,0,"select",5),s(),a(6,"div",6)(7,"h2",7),p(8,"Favorite :"),s(),a(9,"div",8),O(10,ae,2,2,"div",9,P,!1,se,3,0,"div",10),s()(),f(13,le,6,0,"div",11),s()()),i&2&&(d("fullscreen",!0),o(2),_(c.selectedMeal()?2:-1),o(),d("formGroup",c.searchForm),o(2),_(c.searchMealsInStok()&&c.searchMealsInStok().length>0?5:-1),o(5),b(c.favoriteMealList()),o(3),_(c.tenMealsInStok?13:-1))},dependencies:[X,z,K,U,q,J,$,W,j,D,Q,A,H],styles:[".recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]{position:relative;max-width:90%;margin:20px auto;height:400px;max-width:400px;border-radius:13px;transition:all .3 ease;overflow:hidden}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .tofavorite[_ngcontent-%COMP%]{position:absolute;z-index:3;top:15px;left:15px;cursor:pointer}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .tofavorite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:35px}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .back-img[_ngcontent-%COMP%]{position:absolute;height:-webkit-fill-available;width:100%;height:420px;transform:translate(-50%);left:50%;z-index:1;border-radius:13px}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .blur-back-img[_ngcontent-%COMP%]{height:420px;width:100%;position:absolute;background-color:var(--c-dark-blue);opacity:.3;z-index:2;border-radius:13px}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .recipie-info[_ngcontent-%COMP%]{position:relative;z-index:3;width:225px;display:flex;flex-direction:column;gap:20px;border-left:3px solid var(--c-dark-blue);padding:10px 0 50px 30px;margin-left:40px;top:210px}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .recipie-info[_ngcontent-%COMP%]   .recipie-category[_ngcontent-%COMP%]{font-size:19px;font-weight:400;color:var(--c-blue);text-shadow:1px 1px 15px black}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .recipie-info[_ngcontent-%COMP%]   .recipie-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:var(--c-grey);text-shadow:1px 1px 10px var(--c-blue);width:250px}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{font-size:22px;color:var(--c-grey);text-decoration:underline;text-align:end;width:100%;text-shadow:0px 0px 5px var(--c-blue);font-weight:600;cursor:pointer}.recepies[_ngcontent-%COMP%]   .recepies-search[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.recepies[_ngcontent-%COMP%]   .recepies-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:22px;width:60%;height:50px;border-radius:30px;background:var(--c-grey);border:1px solid var(--c-dark-blue);color:var(--c-dark-blue);padding:0 30px;font-size:18px}.recepies[_ngcontent-%COMP%]   .recepies-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--c-dark-blue)}.recepies[_ngcontent-%COMP%]   .recepies-search[_ngcontent-%COMP%]   .searchMeals[_ngcontent-%COMP%]{margin-bottom:22px;width:59%;margin-top:-1px;height:30px;background:var(--c-grey);border:1px solid var(--c-dark-blue);color:var(--c-dark-blue);padding:0 30px;font-size:18px}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]{width:90%;margin:20px auto}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]{font-size:22px;padding:0 30px;font-weight:600;color:var(--c-grey)}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite-list[_ngcontent-%COMP%]{display:flex;gap:20px;overflow:hidden;overflow-x:scroll}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite-list[_ngcontent-%COMP%]   .empty-favorite[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:22px;color:var(--c-grey);margin:20px auto}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite-list[_ngcontent-%COMP%]   .recipie-item-small[_ngcontent-%COMP%]{width:150px;height:150px;overflow:hidden;border-radius:30px;margin:12px 0;flex-shrink:0}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite-list[_ngcontent-%COMP%]   .recipie-item-small[_ngcontent-%COMP%]   .msgNoFavorite[_ngcontent-%COMP%]{font-size:22px;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite-list[_ngcontent-%COMP%]   .recipie-item-small[_ngcontent-%COMP%]   .back-img[_ngcontent-%COMP%]{height:150px;width:auto;z-index:1;cursor:pointer}.recepies[_ngcontent-%COMP%]   .random-list-wrapper[_ngcontent-%COMP%]{width:90%;margin:20px auto}.recepies[_ngcontent-%COMP%]   .random-list-wrapper[_ngcontent-%COMP%]   .random[_ngcontent-%COMP%]{font-size:22px;padding:0 30px;font-weight:600;color:var(--c-grey)}.recepies[_ngcontent-%COMP%]   .random-list-wrapper[_ngcontent-%COMP%]   .random-list[_ngcontent-%COMP%]{display:flex;gap:20px;overflow:hidden;overflow-x:scroll}.recepies[_ngcontent-%COMP%]   .random-list-wrapper[_ngcontent-%COMP%]   .random-list[_ngcontent-%COMP%]   .recipie-item-small[_ngcontent-%COMP%]{width:150px;height:150px;overflow:hidden;border-radius:30px;margin:12px 0;flex-shrink:0}.recepies[_ngcontent-%COMP%]   .random-list-wrapper[_ngcontent-%COMP%]   .random-list[_ngcontent-%COMP%]   .recipie-item-small[_ngcontent-%COMP%]   .msgNoFavorite[_ngcontent-%COMP%]{font-size:22px;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%}.recepies[_ngcontent-%COMP%]   .random-list-wrapper[_ngcontent-%COMP%]   .random-list[_ngcontent-%COMP%]   .recipie-item-small[_ngcontent-%COMP%]   .back-img[_ngcontent-%COMP%]{height:150px;width:auto;z-index:1;cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]});let t=n;return t})();export{be as RecepiesBookPage};
